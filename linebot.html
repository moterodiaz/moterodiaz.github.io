<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Line‑Sensing Robot — Mateo Otero‑Diaz</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link href="lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="lib/lightbox/css/lightbox.min.css" rel="stylesheet">
  <link href="css/style.css" rel="stylesheet">
  <style>
    :root{ --accent:#375aee; --card-shadow:0 8px 30px rgba(55,90,238,0.08); --glass:rgba(255,255,255,0.75); }
    body{ background: linear-gradient(180deg,#f7fbff 0%,#ffffff 45%); color:#222; }
    .page-header{ margin-top:70px; text-align:center; }
    .card-visual{ max-width:980px; margin:0 auto; border-radius:.5rem; padding:1rem; background:#fff; box-shadow:var(--card-shadow); border:1px solid rgba(0,0,0,0.04); }
    .work-img{ height:220px; display:flex; align-items:center; justify-content:center; overflow:hidden; border-radius:.35rem; background:var(--glass); }
    .work-img img{ width:100%; height:100%; object-fit:cover; }
    .btn-back{ background:var(--accent); border-color:var(--accent); color:#fff; display:block; margin:1rem auto 0; }
    pre.code{ background:#f7f9ff; padding:.75rem; border-radius:.35rem; overflow:auto; }
    @media(max-width:575px){ .work-img{height:140px} }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-md fixed-top">
    <div class="container"><a class="navbar-brand" href="index.html">Portfolio</a></div>
  </nav>

  <main class="container" style="padding-top:110px;">
    <header class="page-header">
      <h1>Line‑Sensing Robot</h1>
      <p class="lead">Arduino line‑follower with four IR reflectance sensors, motor shield, and live serial tuning</p>
    </header>

    <section class="card-visual mb-3">
    <div class="row align-items-center">
        <div class="col-md-5 mb-3 mb-md-0">
        <div class="work-media">
            <video class="img-fluid" controls playsinline preload="metadata">
            <source src="img/Line_video.mp4" type="video/mp4">
            Your browser does not support the video tag.
            </video>
        </div>
        </div>
        
        <div class="col-md-7">
        <p>
            A four‑sensor line‑following robot using an Adafruit motor shield and bang‑bang hierarchical controller.
            The design emphasizes robust sensor calibration, modular 3D‑printed sensor mounts, and a serial interface for live tuning.
        </p>
        <ul>
            <li><strong>Sensors:</strong> four TCRT5000 reflectance sensors, individually calibrated with per‑sensor thresholds.</li>
            <li><strong>Control:</strong> hierarchical bang‑bang logic (sharp/gentle turns, on‑center) with LastTurnDirection recovery.</li>
            <li><strong>Prototype features:</strong> modular sensor mounts, serial speed tuning, and data logging for analysis.</li>
        </ul>
        </div>
    </div>
    </section>

    <section class="mb-3">
      <h4>Calibration & control</h4>
      <p>
        Each sensor was profiled on tape vs floor and thresholds set (left sensors ≈ 800, right sensors ≈ 710). The controller maps boolean sensor states
        into prioritized actions (u‑turn, sharp, gentle corrections, or recovery), and logs time‑stamped CSV data for offline analysis and plotting.
      </p>
      <p>Full project writeup and extracted text:</p>
      <ul>
        <li><a href="img/Pie Mini Project 3.pdf" target="_blank">Pie Mini Project 3 (PDF)</a></li>
      </ul>
      <div class="row mb-3">
        <div class="col-sm-4 mb-3">
          <a href="img/Circuit.png" data-lightbox="line‑follower" data-title="KiCad Circuit">
            <div class="work-img">
              <img src="img/Circuit.png" alt="KiCad Circuit" class="img-fluid">
            </div>
          </a>
        </div>

        <div class="col-sm-4 mb-3">
          <a href="img/Line.png" data-lightbox="Data Plot" data-title="Sensor Readings and Motor Commands">
            <div class="work-img">
              <img src="img/Line.png" alt="Sensor Readings and Motor Commands" class="img-fluid">
            </div>
          </a>
        </div>

        <div class="col-sm-4 mb-3">
          <a href="img/Sensor_Mount_Render.png" data-lightbox="Render" data-title="Sensor Mount Render">
            <div class="work-img">
              <img src="img/Sensor_Mount_Render.png" alt="Sensor Mount Render" class="img-fluid">
            </div>
          </a>
        </div>
      </div>
    </section>

    <section class="mb-3">
      <h4>Implementation</h4>
      <ul>
        <li>Hardware: Arduino Uno, Adafruit v2 Motor Shield, two DC gearmotors, four TCRT5000 sensors.</li>
        <li>Software: Arduino controller with serial command 'sNNN' to update baseSpeed live; CSV logging of timestamps, sensor values, and motor commands.</li>
        <li>Mechanical: iterative 3D‑printed sensor mounts and optional housing (removed for performance during testing).</li>
      </ul>
    </section>

    <section class="mt-4">
      <a href="index.html" class="btn btn-back">Back to Portfolio</a>
    </section>
  </main>

  <footer class="text-center mt-5 mb-4"><small>© Mateo Otero‑Diaz</small></footer>

  <script src="lib/jquery/jquery.min.js"></script>
  <script src="lib/bootstrap/js/bootstrap.min.js"></script>
  <script src="lib/lightbox/js/lightbox.min.js"></script>
</body>
</html>